# What: Environment variables for the Librarian Discord bot.
# How: Copy to .env at project root (discord_bot) and fill values. Lists are comma-separated with no spaces.
#
# Runtime: Use Node 22 LTS. The project enforces "engines.node >=22" and tsconfig targets ES2022.
#
# Fail-fast:
# - DISCORD_TOKEN and DISCORD_APP_ID are required. If missing/empty, the process exits on startup.
#
# Allowed-context source:
# - Preferred: allowed-context.json at repo root mapping guildId -> [channelId,...].
#   - If missing: allow everywhere.
#   - If a guildId is not present: allowed when NONVERIFIED_SERVERS_ALLOWED=true, else blocked.
#   - If a guild has an empty array: allow all channels within that guild.
# - Legacy env lists (DISCORD_ALLOWED_GUILD_IDS / DISCORD_ALLOWED_CHANNEL_IDS) are ignored when the JSON file exists.
#
# Flags:
# - NONVERIFIED_SERVERS_ALLOWED: "true|false|1|0|yes|no" (default true). Controls behavior for guilds not present in JSON.
# - DISCORD_CONTACT_USER_ID: Discord user ID to mention when the bot is used in a non-allowed server. Optional.
#
# Notes:
# - LIBRARIAN_* variables exist as placeholders; no HTTP calls are performed yet by this bot.

DISCORD_TOKEN=
DISCORD_APP_ID=
DISCORD_ALLOWED_GUILD_IDS=123,456
DISCORD_ALLOWED_CHANNEL_IDS=789,012
DISCORD_CONTACT_USER_ID=
NONVERIFIED_SERVERS_ALLOWED=true
LIBRARIAN_BASE_URL=http://localhost:3000
LIBRARIAN_API_KEY=